"use strict";!function(e){e.fn.drzProductFeed=function(t){var r=e(this),d=r.attr("data-currency"),n=r.attr("data-sort")||"newest",a=r.attr("data-filter"),c=!!a&&a.split(","),s=r.attr("data-items"),o=s?parseInt(s,10):4,u=r.attr("data-match")||"all",i={type:"usd",symbol:"&#36;"};d&&(i=JSON.parse(d));var f=function(e){return'\n        <a class="drzProduct-feed-card" href="'+e.pageLink+'">\n          <div class="drzProduct-feed-cardImageWrap">\n            <img class="drzProduct-feed-cardImage" src="'+e.itemImage+'" alt="'+e.itemName+'" />\n          </div>\n          <div class="drzProduct-feed-cardInfo">\n            <span class="drzProduct-feed-name">'+e.itemName+'</span>\n            <span class="drzProduct-feed-price">\n            '+i.symbol+e.prices[i.type]+'\n            <button data-product="'+e._id+'" class="drzProduct-feed-buyBtn"></button>\n            </span>\n          </div>\n        </a>\n        '},l=function(e){e.preventDefault(),t.onCartAdd&&t.onCartAdd(e)},p=(t.feed||[]).sort(function(e,t){return new Date(t.created)-new Date(e.created)});return"oldest"===n&&(p=p.reverse()),p=p.slice(0,o),c&&("all"===u&&(p=p.filter(function(e){return c.every(function(t){return e.categories.indexOf(t)>-1})})),"some"===u&&(p=p.filter(function(e){return c.some(function(t){return e.categories.indexOf(t)>=0})}))),r.each(function(){var t=e(this),r=t.find(".drzProduct-feed-cards");p.length>0?e.each(p,function(t,d){var n=e(f(d));n.find(".drzProduct-feed-buyBtn").click(l),r.append(n)}):t.find(".drzProduct-feed-empty").length||t.append(e('<span class="drzProduct-feed-empty">No Products Found</span>')),e.fn.drzProductFeed.destroy=function(e){var t=e.find(".drzProduct-feed-empty");t.length&&t.remove(),e.find(".drzProduct-feed-cards").html("")}}),r}}(jQuery);