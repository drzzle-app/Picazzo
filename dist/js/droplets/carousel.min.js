"use strict";var _typeof2=require("babel-runtime/helpers/typeof"),_typeof3=_interopRequireDefault(_typeof2);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}!function(e){e.fn.drzCarousel=function(){return e(this).each(function(){var t=e(this),i=t.find(".drzCarousel-content"),n=i.find(".drzCarousel-content-item").length,r=t.attr("data-carousel-visible"),o=t.attr("data-carousel-delay"),d=t.attr("data-carousel-controls"),a=0,u=0,f=0,l=void 0,s=void 0,c=void 0,m=void 0,h=void 0;function v(){l=window.matchMedia(window.drzzle.viewports.mobile).matches?1:"undefined"!==(void 0===r?"undefined":(0,_typeof3.default)(r))&&!1!==r?""===r?4:~~r:4,c=t.find(".drzCarousel-image-container").outerWidth(),a=0,t.find(".drzCarousel-content .drzCarousel-content-item").each(function(){var t=(c/l).toFixed(0);e(this).find("img").css("width",t),a+=~~e(this).outerWidth()}),i.css("width",a),u=0,f=0,m=i.outerWidth(),h=t.find(".drzCarousel-content .drzCarousel-content-item").eq(u).outerWidth(),i.css({marginLeft:f})}o="undefined"!==(void 0===o?"undefined":(0,_typeof3.default)(o))&&!1!==o?""===o?2e3:1e3*~~o:2e3,"undefined"!==(void 0===d?"undefined":(0,_typeof3.default)(d))&&!1!==d?""===d&&(d="show"):d="show",d.match(/hide/gi)&&(t.find(".drzCarousel-left-button").hide(),t.find(".drzCarousel-right-button").hide(),t.find(".drzCarousel-image-container").css("width","100%"));var z=void 0,C=void 0,g=150;function w(){clearInterval(s),(C=f+=c)>=m-c?(C=m-c,u=n-l,i.animate({marginLeft:-C},g)):(u=u+=l,i.animate({marginLeft:-C},g)),f=C}function p(){clearInterval(s),(z=f-=c)<=0||z<~~h?(z=0,u=0,i.animate({marginLeft:-z},g)):(u-=l,i.animate({marginLeft:-z},g)),f=z}function y(){clearInterval(s),s=setInterval(function(){(f+=h)>a&&(f=0),u===n-l&&(f=0),i.animate({marginLeft:-f}),(u+=1)>n-l&&(u=0)},o)}t.find(".drzCarousel-left-button").click(p),t.find(".drzCarousel-right-button").click(w),t.on("swipeleft",w),t.on("swiperight",p);var b=void 0,_=function(){clearTimeout(b),b=setTimeout(v,250)};drzzle.window.resize(_),v(),y(),t.mouseover(function(){clearInterval(s)}).mouseout(y),e.fn.drzCarousel.destroy=function(t){clearInterval(s),t.off("swipeleft, swiperight, mouseover, mouseout"),drzzle.window.off("resize",_),t.find(".drzCarousel-left-button").removeAttr("style").off("click"),t.find(".drzCarousel-right-button").removeAttr("style").off("click"),t.find(".drzCarousel-image-container").removeAttr("style"),t.find(".drzCarousel-content").stop().removeAttr("style"),t.find(".drzCarousel-content-item").each(function(){e(this).find("img").removeAttr("style")})}}),this}}(jQuery);