"use strict";!function(e){e.fn.drzImageGallery=function(){var l=void 0,a=void 0,n=void 0,i=void 0,d=void 0,r=void 0,t=void 0,o=void 0,s=void 0,c=void 0,m=e("body"),g=e(document),y=e(this);function f(e){e.preventDefault(),l>0&&(r.eq(l).removeClass("block"),n=(l-=1)+1,r.eq(l).addClass("block"),t.html(n+" / "+a),0===l&&o.css("visibility","hidden"),l<a-1&&s.css("visibility","visible"))}function v(e){e.preventDefault(),l<=a-2&&(r.eq(l).removeClass("block"),n=(l+=1)+1,r.eq(l).addClass("block"),t.html(n+" / "+a),l===a-1&&s.css("visibility","hidden"),l>0&&o.css("visibility","visible"))}var u=function(e){i&&(39===e.keyCode&&v(e),37===e.keyCode&&f(e))};return g.keydown(u),y.each(function(){var y=this,z=e(this),I=z.html();i=!1,z.find(".drzImageGallery-img").click(function(u){u.preventDefault();var b=e(u.currentTarget);a=~~z.find(".drzImageGallery-img").length,i=!0,l=b.parent().attr("class").match(/pg-page-/gi)?~~b.closest(".drzImageGallery").find(".drzImageGallery-img").index(y):~~b.index(),e('<div class="drzModal-overlay drzImageGallery-modal">\n          <div class="drzModal-closeRow">\n            <a class="drzModal-closeLink" href="#"></a>\n          </div>\n          <div class="drzModal-content drzImageGallery-content">\n            <div class="drzImageGallery-controls">\n              <span class="drzImageGallery-legend">'+(n=l+1)+" / "+a+'</span>\n              <button class="drzBtn drzImageGallery-btn drzImageGallery-btnBack"></button>\n              <button class="drzBtn drzImageGallery-btn drzImageGallery-btnNext"></button>\n            </div>\n            '+I+"\n          </div>\n        </div>").insertAfter(m);var G=m.next(".drzModal-overlay"),k=G.find(".drzModal-content");function p(e){e.preventDefault(),i=!1,G.fadeOut(300),setTimeout(function(){G.remove()},300)}G.fadeIn(),r=m.next(".drzImageGallery-modal").find(".drzImageGallery-img"),o=m.next(".drzImageGallery-modal").find(".drzImageGallery-btnBack"),s=m.next(".drzImageGallery-modal").find(".drzImageGallery-btnNext"),t=m.next(".drzImageGallery-modal").find(".drzImageGallery-legend"),c=m.next(".drzImageGallery-modal").find(".drzModal-closeLink"),0===l&&o.css("visibility","hidden"),l===a-1&&s.css("visibility","hidden"),r.parent().attr("class").match(/pg-page-/gi)&&(r.unwrap(),r=m.next(".drzImageGallery-modal").find(".drzImageGallery-img")),r.siblings().removeClass("block"),r.eq(l).addClass("block"),s.click(v),o.click(f),r.on("swipeleft",v),r.on("swiperight",f),d=function(e){i&&"Escape"===e.key&&p(e)},c.click(function(e){return p(e)}),G.click(function(e){return p(e)}),k.click(function(e){return e.stopPropagation()}),g.keyup(function(e){return d(e)})}),e.fn.drzImageGallery.destroy=function(e){e.find(".drzImageGallery-img").off("click"),g.off("keydown",u),g.off("keydown",d)}}),this}}(jQuery);