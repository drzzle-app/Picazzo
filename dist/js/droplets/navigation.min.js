"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){e.fn.drzNav=function(){var t=e(this),r=t.find(".drzNav-list"),i=t.find(".drzNav-link-dropDown"),o=t.find(".drzNav-link-subDropDown"),n=t.find(".drzNav-hamburger"),s=t.find(".drzNav-logo"),a=t.find(".drzNav-search"),d=t.find(".drzNav-cart"),l=~~r.outerWidth(),c="drzNav-subList-show",f=".drzNav-subList",v=t.attr("data-nav-slide"),u={slideDirection:"left"};"undefined"!==(void 0===v?"undefined":_typeof(v))&&!1!==v&&""!==v?(v={slideDirection:v},v=e.extend(!0,{},u,v)):v=u;var h=v.slideDirection,p=!1,z=!1,w=~~t.outerWidth(),g=0,m=0,N=0,C=0,k=0,b=0,y=0,D=0,S=0,x=0;n.is(":visible")&&(g=~~n.outerWidth()),s.is(":visible")&&(m=~~s.outerWidth());var I=e('<div class="drzNav-overlay">\n        <div class="drzNav-slideContainer drzNav-slideContainer-'+h+'">\n          <div class="drzNav-sliderClose-row">\n            <button class="drzNav-sliderClose-btn"></button>\n          </div>\n        </div>\n      </div>');I.insertAfter(t);var T=t.next(".drzNav-overlay"),L=(I=T.find(".drzNav-slideContainer")).find(".drzNav-sliderClose-btn");e.expr.filters.offscreen=function(t){var r=e(t),i=e(window);return r.offset().left+(r.outerWidth()-i.scrollLeft())>i.width()||r.offset().left<i.scrollLeft()};var W={desktopDropDown:function(e){var r=e.next(f),i=void 0;e.mouseover(function(){if(!p&&(clearTimeout(i),r.addClass(c),r.is(":offscreen"))){var e={top:"2px"};t.hasClass("drzNav-links-right")?e.left="100%":(t.hasClass("drzNav-links-left")||t.hasClass("drzNav-links-center"))&&(e.left="-100%"),r.css(e)}}).mouseleave(function(){p||(i=setTimeout(function(){r.removeClass(c)},400))}),r.mouseover(function(){p||(clearTimeout(i),r.addClass(c))}).mouseleave(function(){p||(i=setTimeout(function(){r.removeClass(c),W.removeSubInlines()},400))})},removeSubInlines:function(){t.find(f).each(function(){e(this).css({left:"",right:"",top:""})})},sliderDropDown:function(t){if(t.preventDefault(),p||window.matchMedia(drzzle.viewports.mobile).matches){var r=e(t.currentTarget);r.toggleClass("drzNav-rotateArrow"),r.next(f).toggleClass(c)}},openSlider:function(e){"undefined"!==(void 0===e?"undefined":_typeof(e))&&!1!==e&&e.preventDefault(),z||(T.fadeIn(200),I.addClass("drzNav-slideContainer-"+h+"Show")),z=!0},closeSlider:function(e){"undefined"!==(void 0===e?"undefined":_typeof(e))&&!1!==e&&e.preventDefault(),z&&(I.removeClass("drzNav-slideContainer-"+h+"Show"),T.fadeOut(200)),z=!1},checkAnchor:function(t){var r=e(t.currentTarget).attr("href");z&&r.match(/^#|^\/#/gi)&&(W.closeSlider(),r.match(/^#/gi)&&t.preventDefault())},resetNav:function(){I.find(f).each(function(){var t=e(this);t.hasClass(c)?t.prev("a").addClass("drzNav-rotateArrow"):t.prev("a").removeClass("drzNav-rotateArrow")})},fitCheck:function(){w=~~t.outerWidth(),g=n.is(":visible")?~~n.outerWidth():0,s.is(":visible")&&s.length?(m=~~s.outerWidth(),N=parseInt(s.css("margin-left"),10),C=parseInt(s.css("margin-right"),10)):(m=0,N=0,C=0),d.is(":visible")&&d.length?(D=~~d.outerWidth(),S=parseInt(d.css("margin-left"),10),x=parseInt(d.css("margin-right"),10)):(D=0,S=0,x=0),a.is(":visible")&&a.length?(k=~~a.outerWidth(),b=parseInt(a.css("margin-left"),10),y=parseInt(a.css("margin-right"),10)):(k=0,b=0,y=0);var e=parseInt(t.css("padding-left"),10),i=parseInt(t.css("padding-right"),10),o=parseInt(w-(m+g+e+D+S+x+k+b+y+N+C+i),10);l>=o-1||window.matchMedia(drzzle.viewports.mobile).matches?p||(r.hide(),n.addClass("drzNav-hamburger-show"),p=!0):p&&(r.show(),n.removeClass("drzNav-hamburger-show"),p=!1),z&&r.is(":visible")&&W.closeSlider()},editorCheck:function(e,t){window.__editor&&e.parent().attr("data-nav-fixed",t)}};W.editorCheck(t,!1);var _=void 0;e.fn.drzNav.setScrolling=function(){var t=e(".drzNav-sticky, .drzNav-fixed"),r="drzNav-sticky-set";t.removeClass(r);var i={navs:[]},o=function(){var t=0;return e("\n            .section,\n            .drzTopControlBar,\n            .drz-app-bar,\n            .drzTopLegend").each(function(){var r=e(this),i=r.css("position");"fixed"!==i&&"sticky"!==i||(t+=r.outerHeight())}),t},n=function(e){e.nav.stuck||(e.nav.startingLocation=e.top)},s=function(e){var t=e.css("background-color");return t=t.split(",")[3],t=t?t.replace(/[^0-9.]/g,""):1,window.__editor&&(t=e.attr("data-opacity")),Number(t).valueOf()};drzzle.window.off("scroll",_),t.each(function(t){var a=e(this),d=void 0,l=0;i.navs.push({$:a,startingLocation:~~a.offset().top,height:~~a.outerHeight()});var c=i.navs[t];if(a.hasClass("drzNav-sticky"))window.pageYOffset+o()>=c.startingLocation?(c.stuck=!0,a.addClass(r),a.css("top",o()),W.editorCheck(c.$,!0)):(c.stuck=!1,a.removeClass(r),a.css("top",""),W.editorCheck(c.$,!1)),_=function(){var e=i.navs[t-1];!!e&&e.stuck&&(l=e.height),d=Math.round(drzzle.window.scrollTop()+o()+l),n({nav:c,top:~~a.offset().top}),d>c.startingLocation?(e&&e.$.css("top","-"+e.height+"px"),c.stuck=!0,a.addClass(r),a.css("top",o()),W.editorCheck(c.$,!0)):(c.stuck=!1,a.removeClass(r),a.css("top",""),W.editorCheck(c.$,!1))},drzzle.window.on("scroll",_);else if(a.hasClass("drzNav-fixed")){W.editorCheck(c.$,!0);var f=s(a),v=c.startingLocation;c.stuck=!0,window.pageYOffset>c.height&&f<.1&&(a.addClass(r),v=c.height),_=function(){(d=Math.round(drzzle.window.scrollTop()))>v&&f<.1?(a.addClass(r),a.css("top",o())):(a.removeClass(r),a.css("top",""))},drzzle.window.on("scroll",_)}})},i.each(function(){W.desktopDropDown(e(this))}),o.each(function(){W.desktopDropDown(e(this))}),i.click(W.sliderDropDown),o.click(W.sliderDropDown),r.find(".drzNav-link:not(.drzNav-link-dropDown)").click(W.checkAnchor),r.find(".drzNav-subLink:not(.drzNav-link-subDropDown)").click(W.checkAnchor),n.click(W.openSlider),L.click(W.closeSlider),T.click(W.closeSlider),I.click(function(e){e.stopPropagation()});var A=r.clone(!0,!0);I.append(A);var $=void 0,M=function(){clearTimeout($),$=setTimeout(W.resetNav,250),W.fitCheck()};return drzzle.window.on("resize",M),W.fitCheck(),e.fn.drzNav.setScrolling(),e.fn.drzNav.destroy=function(e){e.next(".drzNav-overlay").remove(),e.find(".drzNav-list").css("display",""),e.find(".drzNav-hamburger").removeClass("drzNav-hamburger-show"),drzzle.window.off("resize",M),drzzle.window.off("scroll",_),e.find("*").off()},this}}(jQuery);