"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){e.fn.drzNav=function(){var t=e(this),r=t.find(".drzNav-list"),o=t.find(".drzNav-link-dropDown"),i=t.find(".drzNav-link-subDropDown"),n=t.find(".drzNav-hamburger"),s=t.find(".drzNav-logo"),a=t.find(".drzNav-search"),d=~~r.outerWidth(),l="drzNav-subList-show",c=".drzNav-subList",f=t.attr("data-nav-slide"),v={slideDirection:"left"};"undefined"!==(void 0===f?"undefined":_typeof(f))&&!1!==f&&""!==f?(f={slideDirection:f},f=e.extend(!0,{},v,f)):f=v;var u=f.slideDirection,h=!1,p=!1,z=~~t.outerWidth(),w=0,m=0,g=0,C=0,N=0,k=0,b=0;n.is(":visible")&&(w=~~n.outerWidth()),s.is(":visible")&&(m=~~s.outerWidth());var y=e('<div class="drzNav-overlay">\n        <div class="drzNav-slideContainer drzNav-slideContainer-'+u+'">\n          <div class="drzNav-sliderClose-row">\n            <button class="drzNav-sliderClose-btn"></button>\n          </div>\n        </div>\n      </div>');y.insertAfter(t);var D=t.next(".drzNav-overlay"),S=(y=D.find(".drzNav-slideContainer")).find(".drzNav-sliderClose-btn");e.expr.filters.offscreen=function(t){var r=e(t),o=e(window);return r.offset().left+(r.outerWidth()-o.scrollLeft())>o.width()||r.offset().left<o.scrollLeft()};var x={desktopDropDown:function(e){var r=e.next(c),o=void 0;e.mouseover(function(){if(!h&&(clearTimeout(o),r.addClass(l),r.is(":offscreen"))){var e={top:"2px"};t.hasClass("drzNav-links-right")?e.left="100%":(t.hasClass("drzNav-links-left")||t.hasClass("drzNav-links-center"))&&(e.left="-100%"),r.css(e)}}).mouseleave(function(){h||(o=setTimeout(function(){r.removeClass(l)},400))}),r.mouseover(function(){h||(clearTimeout(o),r.addClass(l))}).mouseleave(function(){h||(o=setTimeout(function(){r.removeClass(l),x.removeSubInlines()},400))})},removeSubInlines:function(){t.find(c).each(function(){e(this).css({left:"",right:"",top:""})})},sliderDropDown:function(t){if(t.preventDefault(),h||window.matchMedia(drzzle.viewports.mobile).matches){var r=e(t.currentTarget);r.toggleClass("drzNav-rotateArrow"),r.next(c).toggleClass(l)}},openSlider:function(e){"undefined"!==(void 0===e?"undefined":_typeof(e))&&!1!==e&&e.preventDefault(),p||(D.fadeIn(200),y.addClass("drzNav-slideContainer-"+u+"Show")),p=!0},closeSlider:function(e){"undefined"!==(void 0===e?"undefined":_typeof(e))&&!1!==e&&e.preventDefault(),p&&(y.removeClass("drzNav-slideContainer-"+u+"Show"),D.fadeOut(200)),p=!1},checkAnchor:function(t){var r=e(t.currentTarget);p&&r.attr("href").match(/^#/gi)&&(x.closeSlider(),t.preventDefault())},resetNav:function(){y.find(c).each(function(){var t=e(this);t.hasClass(l)?t.prev("a").addClass("drzNav-rotateArrow"):t.prev("a").removeClass("drzNav-rotateArrow")})},fitCheck:function(){z=~~t.outerWidth(),w=n.is(":visible")?~~n.outerWidth():0,s.is(":visible")&&s.length?(m=~~s.outerWidth(),g=parseInt(s.css("margin-left"),10),C=parseInt(s.css("margin-right"),10)):(m=0,g=0,C=0),a.is(":visible")&&a.length?(N=~~a.outerWidth(),k=parseInt(a.css("margin-left"),10),b=parseInt(a.css("margin-right"),10)):(N=0,k=0,b=0);var e=parseInt(t.css("padding-left"),10),o=parseInt(t.css("padding-right"),10),i=parseInt(z-(m+w+e+N+k+b+g+C+o),10);d>=i-1||window.matchMedia(drzzle.viewports.mobile).matches?h||(r.hide(),n.addClass("drzNav-hamburger-show"),h=!0):h&&(r.show(),n.removeClass("drzNav-hamburger-show"),h=!1),p&&r.is(":visible")&&x.closeSlider()},editorCheck:function(e,t){window.__editor&&e.parent().attr("data-nav-fixed",t)}};x.editorCheck(t,!1);var T=void 0;e.fn.drzNav.setScrolling=function(){var t=e(".drzNav-sticky, .drzNav-fixed"),r="drzNav-sticky-set";t.removeClass(r);var o={navs:[]},i=function(){var t=0;return e("\n            .section,\n            .drzTopControlBar,\n            .drz-app-bar,\n            .drzTopLegend").each(function(){var r=e(this),o=r.css("position");"fixed"!==o&&"sticky"!==o||(t+=r.outerHeight())}),t},n=function(e){e.nav.stuck||(e.nav.startingLocation=e.top)},s=function(e){var t=e.css("background-color");return t=t.split(",")[3],t=t?t.replace(/[^0-9.]/g,""):1,window.__editor&&(t=e.attr("data-opacity")),Number(t).valueOf()};drzzle.window.off("scroll",T),t.each(function(t){var a=e(this),d=void 0,l=0;o.navs.push({$:a,startingLocation:~~a.offset().top,height:~~a.outerHeight()});var c=o.navs[t];if(a.hasClass("drzNav-sticky"))window.pageYOffset+i()>c.startingLocation?(c.stuck=!0,a.addClass(r),a.css("top",i()),x.editorCheck(c.$,!0)):(c.stuck=!1,a.removeClass(r),a.css("top",""),x.editorCheck(c.$,!1)),T=function(){var e=o.navs[t-1];!!e&&e.stuck&&(l=e.height),d=Math.round(drzzle.window.scrollTop()+i()+l),n({nav:c,top:~~a.offset().top}),d>c.startingLocation?(e&&e.$.css("top","-"+e.height+"px"),c.stuck=!0,a.addClass(r),a.css("top",i()),x.editorCheck(c.$,!0)):(c.stuck=!1,a.removeClass(r),a.css("top",""),x.editorCheck(c.$,!1))},drzzle.window.on("scroll",T);else if(a.hasClass("drzNav-fixed")){x.editorCheck(c.$,!0);var f=s(a),v=c.startingLocation;c.stuck=!0,window.pageYOffset>c.height&&f<.1&&(a.addClass(r),v=c.height),T=function(){(d=Math.round(drzzle.window.scrollTop()))>v&&f<.1?(a.addClass(r),a.css("top",i())):(a.removeClass(r),a.css("top",""))},drzzle.window.on("scroll",T)}})},o.each(function(){x.desktopDropDown(e(this))}),i.each(function(){x.desktopDropDown(e(this))}),o.click(x.sliderDropDown),i.click(x.sliderDropDown),r.find(".drzNav-link:not(.drzNav-link-dropDown)").click(x.checkAnchor),r.find(".drzNav-subLink:not(.drzNav-link-subDropDown)").click(x.checkAnchor),n.click(x.openSlider),S.click(x.closeSlider),D.click(x.closeSlider),y.click(function(e){e.stopPropagation()});var L=r.clone(!0,!0);y.append(L);var I=void 0,W=function(){clearTimeout(I),I=setTimeout(x.resetNav,250),x.fitCheck()};return drzzle.window.on("resize",W),x.fitCheck(),e.fn.drzNav.setScrolling(),e.fn.drzNav.destroy=function(e){e.next(".drzNav-overlay").remove(),e.find(".drzNav-list").css("display",""),e.find(".drzNav-hamburger").removeClass("drzNav-hamburger-show"),drzzle.window.off("resize",W),drzzle.window.off("scroll",T),e.find("*").off()},this}}(jQuery);