"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){e.fn.drzNav=function(t){var r=e(this),o=r.find(".drzNav-list"),i=r.find(".drzNav-link-dropDown"),n=r.find(".drzNav-link-subDropDown"),s=r.find(".drzNav-hamburger"),a=r.find(".drzNav-logo"),d=r.find(".drzNav-search"),l=~~o.outerWidth(),c="drzNav-subList-show",f=".drzNav-subList",v=r.attr("data-nav-slide"),u={slideDirection:"left"};"undefined"!==(void 0===v?"undefined":_typeof(v))&&!1!==v&&""!==v?(v={slideDirection:v},v=e.extend(!0,{},u,v)):v=u;var h=v.slideDirection,p=!1,z=!1,w=~~r.outerWidth(),m=0,g=0,C=0,N=0,k=0,b=0,y=0;s.is(":visible")&&(m=~~s.outerWidth()),a.is(":visible")&&(g=~~a.outerWidth());var D=e('<div class="drzNav-overlay">\n        <div class="drzNav-slideContainer drzNav-slideContainer-'+h+'">\n          <div class="drzNav-sliderClose-row">\n            <button class="drzNav-sliderClose-btn"></button>\n          </div>\n        </div>\n      </div>');D.insertAfter(r);var S=r.next(".drzNav-overlay"),x=(D=S.find(".drzNav-slideContainer")).find(".drzNav-sliderClose-btn");e.expr.filters.offscreen=function(t){var r=e(t),o=e(window);return r.offset().left+(r.outerWidth()-o.scrollLeft())>o.width()||r.offset().left<o.scrollLeft()};var T={desktopDropDown:function(e){var t=e.next(f),o=void 0;e.mouseover(function(){if(!p&&(clearTimeout(o),t.addClass(c),t.is(":offscreen"))){var e={top:"2px"};r.hasClass("drzNav-links-right")?e.left="100%":(r.hasClass("drzNav-links-left")||r.hasClass("drzNav-links-center"))&&(e.left="-100%"),t.css(e)}}).mouseleave(function(){p||(o=setTimeout(function(){t.removeClass(c)},400))}),t.mouseover(function(){p||(clearTimeout(o),t.addClass(c))}).mouseleave(function(){p||(o=setTimeout(function(){t.removeClass(c),T.removeSubInlines()},400))})},removeSubInlines:function(){r.find(f).each(function(){e(this).css({left:"",right:"",top:""})})},sliderDropDown:function(t){if(t.preventDefault(),p||window.matchMedia(drzzle.viewports.mobile).matches){var r=e(t.currentTarget);r.toggleClass("drzNav-rotateArrow"),r.next(f).toggleClass(c)}},openSlider:function(e){"undefined"!==(void 0===e?"undefined":_typeof(e))&&!1!==e&&e.preventDefault(),z||(S.fadeIn(200),D.addClass("drzNav-slideContainer-"+h+"Show")),z=!0},closeSlider:function(e){"undefined"!==(void 0===e?"undefined":_typeof(e))&&!1!==e&&e.preventDefault(),z&&(D.removeClass("drzNav-slideContainer-"+h+"Show"),S.fadeOut(200)),z=!1},checkAnchor:function(t){var r=e(t.currentTarget);z&&r.attr("href").match(/^#/gi)&&(T.closeSlider(),t.preventDefault())},resetNav:function(){D.find(f).each(function(){var t=e(this);t.hasClass(c)?t.prev("a").addClass("drzNav-rotateArrow"):t.prev("a").removeClass("drzNav-rotateArrow")})},fitCheck:function(){w=~~r.outerWidth(),m=s.is(":visible")?~~s.outerWidth():0,a.is(":visible")&&a.length?(g=~~a.outerWidth(),C=parseInt(a.css("margin-left"),10),N=parseInt(a.css("margin-right"),10)):(g=0,C=0,N=0),d.is(":visible")&&d.length?(k=~~d.outerWidth(),b=parseInt(d.css("margin-left"),10),y=parseInt(d.css("margin-right"),10)):(k=0,b=0,y=0);var e=parseInt(r.css("padding-left"),10),t=parseInt(r.css("padding-right"),10),i=parseInt(w-(g+m+e+k+b+y+C+N+t),10);l>=i-1||window.matchMedia(drzzle.viewports.mobile).matches?p||(o.hide(),s.addClass("drzNav-hamburger-show"),p=!0):p&&(o.show(),s.removeClass("drzNav-hamburger-show"),p=!1),z&&o.is(":visible")&&T.closeSlider()},editorCheck:function(e,t){window.__editor&&e.parent().attr("data-nav-fixed",t)}};T.editorCheck(r,!1);e.extend(!0,{},{opacity:1},t);var L=void 0;e.fn.drzNav.setScrolling=function(){var t=e(".drzNav-sticky, .drzNav-fixed"),r="drzNav-sticky-set";t.removeClass(r);var o={navs:[]},i=function(){var t=0;return e("\n            .section,\n            .drzTopControlBar,\n            .drz-app-bar,\n            .drzTopLegend").each(function(){var r=e(this),o=r.css("position");"fixed"!==o&&"sticky"!==o||(t+=r.outerHeight())}),t},n=function(e){e.nav.stuck||(e.nav.startingLocation=e.top)},s=function(e){var t=e.css("background-color");return t=t.split(",")[3],t=t?t.replace(/[^0-9.]/g,""):1,window.__editor&&(t=e.attr("data-opacity")),Number(t).valueOf()};drzzle.window.off("scroll",L),t.each(function(t){var a=e(this),d=void 0,l=0;o.navs.push({$:a,startingLocation:~~a.offset().top,height:~~a.outerHeight()});var c=o.navs[t];if(a.hasClass("drzNav-sticky"))window.pageYOffset+i()>c.startingLocation?(c.stuck=!0,a.addClass(r),a.css("top",i()),T.editorCheck(c.$,!0)):(c.stuck=!1,a.removeClass(r),a.css("top",""),T.editorCheck(c.$,!1)),L=function(){var e=o.navs[t-1];!!e&&e.stuck&&(l=e.height),d=Math.round(drzzle.window.scrollTop()+i()+l),n({nav:c,top:~~a.offset().top}),d>c.startingLocation?(e&&e.$.css("top","-"+e.height+"px"),c.stuck=!0,a.addClass(r),a.css("top",i()),T.editorCheck(c.$,!0)):(c.stuck=!1,a.removeClass(r),a.css("top",""),T.editorCheck(c.$,!1))},drzzle.window.on("scroll",L);else if(a.hasClass("drzNav-fixed")){T.editorCheck(c.$,!0);var f=s(a),v=c.startingLocation;c.stuck=!0,window.pageYOffset>c.height&&f<.1&&(a.addClass(r),v=c.height),L=function(){(d=Math.round(drzzle.window.scrollTop()))>v&&f<.1?(a.addClass(r),a.css("top",i())):(a.removeClass(r),a.css("top",""))},drzzle.window.on("scroll",L)}})},i.each(function(){T.desktopDropDown(e(this))}),n.each(function(){T.desktopDropDown(e(this))}),i.click(T.sliderDropDown),n.click(T.sliderDropDown),o.find(".drzNav-link:not(.drzNav-link-dropDown)").click(T.checkAnchor),o.find(".drzNav-subLink:not(.drzNav-link-subDropDown)").click(T.checkAnchor),s.click(T.openSlider),x.click(T.closeSlider),S.click(T.closeSlider),D.click(function(e){e.stopPropagation()});var I=o.clone(!0,!0);D.append(I);var W=void 0,_=function(){clearTimeout(W),W=setTimeout(T.resetNav,250),T.fitCheck()};return drzzle.window.on("resize",_),T.fitCheck(),e.fn.drzNav.setScrolling(),e.fn.drzNav.destroy=function(e){e.next(".drzNav-overlay").remove(),e.find(".drzNav-list").css("display",""),e.find(".drzNav-hamburger").removeClass("drzNav-hamburger-show"),drzzle.window.off("resize",_),drzzle.window.off("scroll",L),e.find("*").off()},this}}(jQuery);