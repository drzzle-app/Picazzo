"use strict";var _typeof2=require("babel-runtime/helpers/typeof"),_typeof3=_interopRequireDefault(_typeof2);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}!function(e){e.fn.drzContentSlider=function(){return e(this).each(function(){var t=e(this).attr("data-slider-delay");"undefined"!==(void 0===t?"undefined":(0,_typeof3.default)(t))&&!1!==t?(""===t&&(t=4e3),t=!t.match(/none/gi)&&1e3*~~t):t=4e3;var i=e(this),n=i.find(".drzContentSlider-item").length,d=void 0;i.append('<div class="drzContentSlider-bullets"></div>'),i.find(".drzContentSlider-item").each(function(){var t=e(this);t.addClass("item-"+t.index()),t.parent().find(".drzContentSlider-bullets").append('<a href="#" class="drzContentSlider-bullet b-'+t.index()+'"></a>')}),i.append('<a class="drzContentSlider-next-btn"></a>'),i.append('<a class="drzContentSlider-back-btn"></a>');var r=i.attr("data-slider-controls");"undefined"!==(void 0===r?"undefined":(0,_typeof3.default)(r))&&!1!==r&&r.match(/hide/gi)&&i.find(".drzContentSlider-next-btn, .drzContentSlider-back-btn").hide(),i.find(".drzContentSlider-item:first-child").show().css("opacity","1"),i.find(".drzContentSlider-bullet:first-child").addClass("active");var a=i.find(".drzContentSlider-bullets"),l=i.attr("data-slider-bullets");"undefined"!==(void 0===l?"undefined":(0,_typeof3.default)(l))&&!1!==l?((l.match(/right/gi)||l.match(/left/gi))&&(l.match(/right/gi)&&a.addClass("drzContentSlider-bullets-right"),l.match(/left/gi)&&a.addClass("drzContentSlider-bullets-left"),a.css("marginTop",-a.outerHeight()/2)),l.match(/bottom/gi)&&a.addClass("drzContentSlider-bullets-bottom")):a.addClass("drzContentSlider-bullets-bottom");var o=void 0,s=i.attr("data-slider-effect");"undefined"!==(void 0===s?"undefined":(0,_typeof3.default)(s))&&!1!==s?""===s&&(s="slide"):s="slide";var f=~~i.outerWidth();s.match(/slide/gi)?(o={marginLeft:-f},i.find(".drzContentSlider-item").each(function(){e(this).css("opacity",1)})):s.match(/fade/gi)&&(o={opacity:0});var c=400,m={opacity:1},u=0,h=void 0;function v(e){h=setTimeout(function(){e.hide()},c)}var C=void 0;function g(e){C=setTimeout(function(){e.show(),s.match(/fade/gi)&&e.animate(m,c)},c)}var z=void 0,S=function(){clearTimeout(z),z=setTimeout(function(){f=~~i.outerWidth(),o={marginLeft:-f}},250)};function b(e){s.match(/slide/gi)&&window.drzzle.window.resize(S);var t=e.find(".drzContentSlider-item.item-"+u);if(t.animate(o,c),v(t),(u+=1)>n-1){u=0;var i=e.find(".drzContentSlider-item.item-"+(n-1));s.match(/slide/gi)&&(e.find(".drzContentSlider-item.item-"+u).show().css("margin-left",f),e.find(".drzContentSlider-item.item-"+u).animate({marginLeft:0},c)),i.animate(o,c),v(i)}var d=e.find(".drzContentSlider-item.item-"+u);s.match(/slide/gi)?d.show().css("margin-left",f).animate({marginLeft:0},c):s.match(/fade/gi)&&g(d),e.find(".drzContentSlider-bullet.b-"+u).addClass("active").siblings().removeClass("active")}function p(e){var t=e.find(".drzContentSlider-item.item-"+u);if(s.match(/slide/gi)?t.animate({marginLeft:f},c):s.match(/fade/gi)&&t.animate(o,c),v(t),(u-=1)<0&&(u=n-1),u>n-1){u=0;var i=e.find(".drzContentSlider-item.item-"+(n-1));s.match(/slide/gi)?(i.css("margin-left",-f),i.animate({marginLeft:0},c)):s.match(/fade/gi)&&i.animate(o,c),v(i)}var d=e.find(".drzContentSlider-item.item-"+u);s.match(/slide/gi)?d.show().css("margin-left",-f).animate({marginLeft:0},c):s.match(/fade/gi)&&g(d),e.find(".drzContentSlider-bullet.b-"+u).addClass("active").siblings().removeClass("active")}function w(i){clearInterval(d),e.isNumeric(t)&&(d=setInterval(function(){b(i)},t))}i.find(".drzContentSlider-next-btn").click(function(){b(i)}),i.find(".drzContentSlider-back-btn").click(function(){p(i)}),i.on("swipeleft",function(){b(i)}),i.on("swiperight",function(){p(i)}),i.find(".drzContentSlider-bullet").click(function(t){t.preventDefault();var n=e(this),d=n.index();n.addClass("active").siblings().removeClass("active"),s.match(/slide/gi)?i.find(".drzContentSlider-item.item-"+d).show().css("margin-left",0).siblings(".drzContentSlider-item").hide():s.match(/fade/gi)&&i.find(".drzContentSlider-item.item-"+d).show().css("opacity",1).siblings(".drzContentSlider-item").hide().css("opacity",0),u=d,w(i)}),i.mouseover(function(){clearInterval(d)}),i.mouseleave(function(){w(i)}),w(i),e.fn.drzContentSlider.destroy=function(t){t.find(".drzContentSlider-bullets").remove(),t.find(".drzContentSlider-next-btn").remove(),t.find(".drzContentSlider-back-btn").remove(),t.off("swipeleft"),t.off("swiperight"),t.off("mouseover"),t.off("mouseleave"),t.find(".drzContentSlider-item").each(function(){e(this).stop().removeAttr("style").removeClass(function(e,t){var i=t.match(/(^|\s)item-\S+/g);return i=i?i.join(" "):""})}),window.drzzle.window.off("resize",S),clearInterval(d),clearTimeout(h),clearTimeout(C)}}),this}}(jQuery);