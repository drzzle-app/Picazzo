"use strict";!function(n){n.fn.drzAudioPlayer=function(){return n(this).each(function(){var d=n(this),e=d.find(".drzAudio-src").get(0),i=d.find(".drzAudio-playBtn"),t=d.find(".drzAudio-pauseBtn"),r=d.find(".drzAudio-volumeBtn"),o=d.find(".drzAudio-volumeContainer"),u=d.find(".drzAudio-volumeSliderContainer"),a=d.find(".drzAudio-volSlider"),s=d.find(".drzAudio-muteBtn"),f=d.find(".drzAudio-progress"),c=d.find(".drzAudio-progressBar"),l=d.find(".drzAudio-currentTime"),v=d.find(".drzAudio-totalTime");l.html("0:00"),d.find(".drzAudio-src").load();var p=function(){var n=parseInt(e.duration/60,10),d=parseInt(n/60,10),i=parseInt(e.duration%60,10);i=i<10?":0"+i:":"+i,d>0?d+=":":d="",v.html(d+n+i)},m=function(){var n=parseInt(e.currentTime/60,10),d=parseInt(e.currentTime%60,10),i=parseInt(n/60,10),t=0;e.currentTime>0&&(t=Math.floor(100/e.duration*e.currentTime)),d=d<10?":0"+d:":"+d,i>0?i+=":":i="",f.css("width",t+"%"),l.html(i+n+d)};function z(n){var d=e.duration,i=(n-c.offset().left)/c.width()*100;i>100&&(i=100),i<0&&(i=0),e.currentTime=d*(i/100),f.css("width",i+"%")}var A=!1,g=n(document);function B(){e.pause()}function h(){i.addClass("drzAudio-pauseBtn"),i.removeClass("drzAudio-replayBtn")}function y(){i.removeClass("drzAudio-pauseBtn"),i.addClass("drzAudio-replayBtn")}function k(){i.removeClass("drzAudio-pauseBtn"),i.removeClass("drzAudio-replayBtn")}c.on("vmousedown",function(n){A=!0,z(n.pageX)}),g.on("vmouseup",function(n){A&&(A=!1,z(n.pageX))}),g.on("vmousemove",function(n){A&&z(n.pageX)}),e.addEventListener("durationchange",p,!1),e.addEventListener("timeupdate",m,!1),e.addEventListener("play",h,!1),e.addEventListener("ended",y,!1),e.addEventListener("pause",k,!1),d.click(function(){u.fadeOut("fast")}),i.click(function(){i.hasClass("drzAudio-pauseBtn")?B():(e.paused||e.ended)&&e.play()}),r.click(function(){u.fadeToggle("fast")}),t.click(B),o.click(function(n){n.stopPropagation()}),a.change(function(){e.volume=a.val()}),s.click(function(){e.muted=!e.muted,s.toggleClass("drzAudio-muteOff")}),n.fn.drzAudioPlayer.destroy=function(n){n.find(".drzAudio-playBtn").off("click"),n.find(".drzAudio-pauseBtn").off("click"),n.find(".drzAudio-volSlider").off("change"),n.find(".drzAudio-muteBtn").off("click"),n.find(".drzAudio-progressBar").off("vmousedown"),n.find(".drzAudio-volumeBtn").off("click"),d.off("click");var e=n.find(".drzAudio-src").get(0);e.removeEventListener("durationchange",p,!1),e.removeEventListener("timeupdate",m,!1),e.addEventListener("play",h,!1),e.addEventListener("ended",y,!1),e.addEventListener("pause",k,!1)}}),this}}(jQuery);