"use strict";!function(e){e.fn.drzVideoPlayer=function(){return e(this).each(function(){var o=e(this),n=o.find(".drzVideo-src").get(0),d=o.get(0),r=o.find(".drzVideo-controls"),i=o.find(".drzVideo-playBtn"),s=o.find(".drzVideo-pauseBtn"),t=o.find(".drzVideo-volSlider"),l=o.find(".drzVideo-muteBtn"),c=o.find(".drzVideo-progress"),u=o.find(".drzVideo-progressBar"),a=o.find(".drzVideo-fullScreenBtn"),f=o.find(".drzVideo-currentTime"),m=o.find(".drzVideo-totalTime"),v=o.find(".drzVideo-videoTime"),z=o.find(".drzVideo-volSliderContainer"),V=o.find(".drzVideo-overlay"),p=V.css("background-color"),g=V.find(".drzVideo-playBtn-lrg");f.html("0:00"),o.find(".drzVideo-src").load();var k=function(){var e=parseInt(n.duration/60,10),d=parseInt(n.duration%60,10),r=parseInt(e/60,10);d=d<10?":0"+d:":"+d,r>0?r+=":":r="",m.html(r+e+d);var i=o.parent();i.hasClass("drzVideo-feature")&&(i.find(".drzVideo-featureDuration").html("0:00"),i.find(".drzVideo-featureTotalTime").html(r+e+d))},C=function(){var e=0,d=parseInt(n.currentTime/60,10),r=parseInt(n.currentTime%60,10),i=parseInt(d/60,10);n.currentTime>0&&(e=Math.floor(100/n.duration*n.currentTime)),r=r<10?":0"+r:":"+r,i>0?i+=":":i="",c.css("width",e+"%"),f.html(i+d+r);var s=o.parent();s.hasClass("drzVideo-feature")&&s.find(".drzVideo-featureDuration").html(i+d+r)},h=function(){V.css("background-color",p),g.is(":visible")||g.fadeIn()},S=!1,F=e(document),w=function(e){var o=n.duration,d=(e-u.offset().left)/u.width()*100;d>100&&(d=100),d<0&&(d=0),n.currentTime=o*(d/100),c.css("width",d+"%")};F.on("vmouseup",function(e){S&&(S=!1,w(e.pageX))}),F.on("vmousemove",function(e){S&&w(e.pageX)});o.one("click",function(){var e=void 0;o.on("vmousemove",function(){r.hasClass("drzVide-slideDown")&&(r.removeClass("drzVide-slideDown"),c.removeClass("drzVideo-soloProgress"),u.removeClass("drzVideo-soloProgress"),clearTimeout(e),e=setTimeout(function(){r.hasClass("drzVide-slideDown")||(r.addClass("drzVide-slideDown"),c.addClass("drzVideo-soloProgress"),u.addClass("drzVideo-soloProgress"))},3e3))}),o.find(".drzVideo-controlBar").on("vmouseover",function(){return clearTimeout(e)}),o.find(".drzVideo-controlBar").on("mouseleave",function(){clearTimeout(e),e=setTimeout(function(){r.hasClass("drzVide-slideDown")||(r.addClass("drzVide-slideDown"),c.addClass("drzVideo-soloProgress"),u.addClass("drzVideo-soloProgress"))},3e3)}),o.mouseleave(function(){clearTimeout(e),r.hasClass("drzVide-slideDown")||(r.addClass("drzVide-slideDown"),c.addClass("drzVideo-soloProgress"),u.addClass("drzVideo-soloProgress"))})}),v.click(function(e){return e.stopPropagation()}),z.click(function(e){return e.stopPropagation()}),V.click(function(){n.paused||n.ended?(n.play(),V.css("background-color","transparent"),g.is(":visible")&&g.fadeOut()):(n.pause(),V.css("background-color",p),g.is(":visible")||g.fadeIn())}),n.addEventListener("durationchange",k,!1),n.addEventListener("timeupdate",C,!1),n.addEventListener("ended",h,!1),u.on("vmousedown",function(e){S=!0,w(e.pageX)}),i.click(function(){(n.paused||n.ended)&&(n.play(),V.css("background-color","transparent"),g.is(":visible")&&g.fadeOut())}),s.click(function(e){e.stopPropagation(),n.pause(),V.css("background-color",p),g.is(":visible")||g.fadeIn()}),t.change(function(){n.volume=t.val()}),l.click(function(e){e.stopPropagation(),n.muted=!n.muted,l.toggleClass("drzVideo-muteOff")}),a.click(function(e){e.stopPropagation(),void 0!==document.fullScreenElement&&null===document.fullScreenElement||void 0!==document.msFullscreenElement&&null===document.msFullscreenElement||void 0!==document.mozFullScreen&&!document.mozFullScreen||void 0!==document.webkitIsFullScreen&&!document.webkitIsFullScreen?d.requestFullScreen?d.requestFullScreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.webkitRequestFullScreen?d.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):d.msRequestFullscreen&&d.msRequestFullscreen():document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}),e.fn.drzVideoPlayer.destroy=function(e){e.off("click"),e.off("mouseleave"),e.off("vmousemove"),e.find(".drzVideo-videoTime").off("click"),e.find(".drzVideo-volSliderContainer").off("click"),e.find(".drzVideo-overlay").off("click"),e.find(".drzVideo-progressBar").off("vmousedown"),e.find(".drzVideo-playBtn").off("click"),e.find(".drzVideo-pauseBtn").off("click"),e.find(".drzVideo-volSlider").off("change"),e.find(".drzVideo-muteBtn").off("click"),e.find(".drzVideo-fullScreenBtn").off("click");var o=e.find(".drzVideo-src").get(0);o.removeEventListener("durationchange",k,!1),o.removeEventListener("timeupdate",C,!1),o.removeEventListener("ended",h,!1);var n=e.find(".drzVideo-controlBar");n.off("vmouseover"),n.off("mouseleave")}}),this}}(jQuery);