"use strict";!function(e){e.fn.drzSectionVideo=function(){return e(this).each(function(){var t=e(this),i=t.attr("data-videos"),o=void 0,r=!0,d=void 0,n=void 0,a={init:function(e,t){i=(i=e.attr("data-videos")).desktop?i:JSON.parse(i),t&&i[t.startingViewport].src!==i[t.endingViewport].src&&(e.find("video.drzSection-video").remove(),a.drawVideo(e)),t||(e.find("video.drzSection-video").remove(),a.drawVideo(e))},drawVideo:function(t){var o=a.getSource(i),r=e('\n            <video class="drzSection-video" muted loop playsinline autoplay>\n              <source src="'+a.getVidPath(o.src)+'" type="video/'+o.type+'" />\n              <p class="warning">Your browser does not support HTML5 video.</p>\n            </video>');t.prepend(r);var d=t.find(".drzSection-video").get(0);d.addEventListener("loadeddata",function(){var e=0;!function t(){d.paused&&e<31&&(e+=1,d.play().catch(function(){t()}))}()})},getVidPath:function(e){var t=e;if(window.__editor&&!e.match(/^http/gi)){var i="development"===process.env.NODE_ENV?"":"file://";t=(i=""+i+process.env._staticWrite)+"/"+window._currentSite.name+t}return t},getSource:function(e){var t="",i="";return window.matchMedia(drzzle.viewports.desktop).matches&&(t=e.desktop.src,i=e.desktop.type),window.matchMedia(drzzle.viewports.tablet).matches&&(t=e.tablet.src,i=e.tablet.type),window.matchMedia(drzzle.viewports.mobile).matches&&(t=e.mobile.src,i=e.mobile.type),{src:t,type:i}},get:function(){var e="";return window.matchMedia(drzzle.viewports.desktop).matches&&(e="desktop"),window.matchMedia(drzzle.viewports.tablet).matches&&(e="tablet"),window.matchMedia(drzzle.viewports.mobile).matches&&(e="mobile"),{viewport:e}},resize:function(){r&&(d=a.get().viewport,r=!1),clearTimeout(o),o=setTimeout(function(){n=a.get().viewport,a.init(t,{startingViewport:d,endingViewport:n}),r=!0},250)}};i&&(a.init(t),drzzle.window.resize(a.resize)),e.fn.drzSectionVideo.destroy=function(e){e.find("video.drzSection-video").remove(),drzzle.window.off("resize",a.resize)}}),this}}(jQuery);