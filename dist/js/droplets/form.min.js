"use strict";var _typeof2=require("babel-runtime/helpers/typeof"),_typeof3=_interopRequireDefault(_typeof2);function _interopRequireDefault(d){return d&&d.__esModule?d:{default:d}}!function(d){d.fn.drzFormValidate=function(a){return d(this).each(function(){var e=d(this);e.attr("novalidate",!0);var r="\n        input[type=text],\n        input[type=email],\n        input[type=number],\n        input[type=date],\n        input[type=tel],\n        input[type=url],\n        input[type=password],\n        textarea,\n        select\n      ";d.expr.pseudos.required=function(a){return"required"===d(a).attr("data-validator")};var t=!1,i=function(d,a){var e=a.typeMsg;a.input.val().match(a.format)||(d.preventDefault(),t=!0,a.input.next(".drzValidator-msg").find(".drzValidator-msg-type").html(e).fadeIn()),a.input.keyup(function(){a.input.val().match(a.format)?(t=!1,a.input.removeClass("drzValidator-req-border"),a.input.next(".drzValidator-msg").find(".drzValidator-msg-type").fadeOut()):(t=!0,a.input.addClass("drzValidator-req-border"),a.input.next(".drzValidator-msg").find(".drzValidator-msg-type").html(e).fadeIn())})};e.submit(function(n){n.preventDefault(),e.find(r).not(".checkbox-group input").not(".radio-group input").each(function(){var a=d(this),e=a.attr("type"),r=void 0,l=d('\n              <div class="drzValidator-msg">\n                <div class="drzValidator-msg-required"></div>\n                <div class="drzValidator-msg-type"></div>\n                <div class="drzValidator-msg-min"></div>\n                <div class="drzValidator-msg-max"></div>\n                <div class="drzValidator-msg-value"></div>\n                <div class="drzValidator-msg-regex"></div>\n              </div>\'\n            ');if(a.next(".drzValidator-msg").length||l.insertAfter(a),a.is(":required")&&(a.keyup(function(){if(""!==a.val())t=!1,a.removeClass("drzValidator-req-border"),a.next(".drzValidator-msg").find(".drzValidator-msg-required").fadeOut();else{t=!0,a.addClass("drzValidator-req-border");var d=a.attr("data-validator-msg");r="undefined"!==(void 0===d?"undefined":(0,_typeof3.default)(d))&&!1!==d?a.attr("data-validator-msg"):"This value is required.",a.next(".drzValidator-msg").find(".drzValidator-msg-required").html(r).fadeIn()}}),a.keyup(function(){""!==a.val()?(t=!1,a.removeClass("drzValidator-req-border"),a.next(".drzValidator-msg").find(".drzValidator-msg-required").fadeOut()):(t=!0,a.addClass("drzValidator-req-border"),a.next(".drzValidator-msg").find(".drzValidator-msg-required").html(r).fadeIn())})),a.is(":required")&&""===a.val()){n.preventDefault(),t=!0,a.addClass("drzValidator-req-border");var o=a.attr("data-validator-msg");r="undefined"!==(void 0===o?"undefined":(0,_typeof3.default)(o))&&!1!==o?a.attr("data-validator-msg"):"This value is required.",a.next(".drzValidator-msg").find(".drzValidator-msg-required").html(r).fadeIn()}var s=a.attr("data-validator-min"),u=a.attr("data-validator-max"),f=void 0,m=void 0,v=void 0;("undefined"!==(void 0===s?"undefined":(0,_typeof3.default)(s))&&!1!==s||"undefined"!==(void 0===u?"undefined":(0,_typeof3.default)(u))&&!1!==u)&&("undefined"!==(void 0===s?"undefined":(0,_typeof3.default)(s))&&!1!==s&&(s=a.attr("data-validator-min"),"number"===e?(m="Value must be at least "+s+".",f=~~a.val()):(m="There is a minimun limit of "+s+" charachters for this value.",f=a.val().length)),"undefined"!==(void 0===u?"undefined":(0,_typeof3.default)(u))&&!1!==u&&(u=a.attr("data-validator-max"),"number"===e?(f=~~a.val(),v="Value must not be greater than "+u+"."):(v="There is a maximum limit of "+u+" charachters for this value.",f=a.val().length)),(""!==a.val()||a.is(":required"))&&(f<s&&(n.preventDefault(),t=!0,a.addClass("drzValidator-req-border"),a.next(".drzValidator-msg").find(".drzValidator-msg-min").html(m).fadeIn()),a.keyup(function(){f="number"===e?~~a.val():a.val().length,""!==a.val()&&(f<s?(t=!0,a.addClass("drzValidator-req-border"),a.next(".drzValidator-msg").find(".drzValidator-msg-min").html(m).fadeIn()):("undefined"===(void 0===u?"undefined":(0,_typeof3.default)(u))&&!1===u&&(t=!1,a.removeClass("drzValidator-req-border")),"undefined"!==(void 0===u?"undefined":(0,_typeof3.default)(u))&&!1!==u&&f<=u&&(t=!1,a.removeClass("drzValidator-req-border")),a.next(".drzValidator-msg").find(".drzValidator-msg-min").fadeOut()))}),f>u&&(n.preventDefault(),t=!0,a.addClass("drzValidator-req-border"),a.next(".drzValidator-msg").find(".drzValidator-msg-max").html(v).fadeIn()),a.keyup(function(){f="number"===e?~~a.val():a.val().length,""!==a.val()&&(f>u?(t=!0,a.addClass("drzValidator-req-border"),a.next(".drzValidator-msg").find(".drzValidator-msg-max").html(v).fadeIn()):("undefined"===(void 0===s?"undefined":(0,_typeof3.default)(s))&&!1===s&&(t=!1,a.removeClass("drzValidator-req-border")),"undefined"!==(void 0===s?"undefined":(0,_typeof3.default)(s))&&!1!==s&&f>=s&&(t=!1,a.removeClass("drzValidator-req-border")),a.next(".drzValidator-msg").find(".drzValidator-msg-max").fadeOut()))})));var g=a.attr("data-validator-value"),z=void 0;"undefined"!==(void 0===g?"undefined":(0,_typeof3.default)(g))&&!1!==g&&g.match(/number/i)&&(g=a.attr("data-validator-value"),z="Value must be an integer.",(""!==a.val()||a.is(":required"))&&(d.isNumeric(a.val())||(n.preventDefault(),t=!0,a.addClass("drzValidator-req-border"),a.next(".drzValidator-msg").find(".drzValidator-msg-value").html(z).fadeIn()),a.keyup(function(){""!==a.val()&&(d.isNumeric(a.val())?(t=!1,a.removeClass("drzValidator-req-border"),a.next(".drzValidator-msg").find(".drzValidator-msg-value").fadeOut()):(t=!0,a.addClass("drzValidator-req-border"),a.next(".drzValidator-msg").find(".drzValidator-msg-value").html(z).fadeIn()))})));var p=a.attr("data-validator-regex"),V=void 0;"undefined"!==(void 0===p?"undefined":(0,_typeof3.default)(p))&&!1!==p&&(p=a.attr("data-validator-regex"),p=new RegExp(p,"gi"),V="Value not entered in a correct format.",(""!==a.val()||a.is(":required"))&&(a.val().match(p)||(n.preventDefault(),t=!0,a.addClass("drzValidator-req-border"),a.next(".drzValidator-msg").find(".drzValidator-msg-regex").html(V).fadeIn()),a.keyup(function(){""!==a.val()&&(a.val().match(p)?(t=!1,a.removeClass("drzValidator-req-border"),a.next(".drzValidator-msg").find(".drzValidator-msg-regex").fadeOut()):(t=!0,a.addClass("drzValidator-req-border"),a.next(".drzValidator-msg").find(".drzValidator-msg-regex").html(V).fadeIn()))}))),"email"===e&&a.is(":required")&&(r="undefined"!==("undefined"==typeof $msgAttr?"undefined":(0,_typeof3.default)($msgAttr))&&!1!==$msgAttr?a.attr("data-validator-msg"):"This value is required.",i(n,{input:a,check:"email",typeMsg:"Valid email required",format:/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/})),"tel"===e&&a.is(":required")&&(r="undefined"!==("undefined"==typeof $msgAttr?"undefined":(0,_typeof3.default)($msgAttr))&&!1!==$msgAttr?a.attr("data-validator-msg"):"This value is required.",i(n,{input:a,check:"tel",typeMsg:"Valid phone number required",format:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/})),"url"===e&&a.is(":required")&&(r="undefined"!==("undefined"==typeof $msgAttr?"undefined":(0,_typeof3.default)($msgAttr))&&!1!==$msgAttr?a.attr("data-validator-msg"):"This value is required.",i(n,{input:a,check:"url",typeMsg:"Valid URL required",format:/[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/})),a.is("select")&&a.change(function(){""!==a.val()?(t=!1,a.removeClass("drzValidator-req-border"),a.next(".drzValidator-msg").find(".drzValidator-msg-required").fadeOut()):(t=!0,a.addClass("drzValidator-req-border"),a.next(".drzValidator-msg").find(".drzValidator-msg-required").html(r).fadeIn())})}),e.find(".checkbox-group, .radio-group").each(function(){var a=d(this),e=d('<div class="drzValidator-msg"><div class="drzValidator-msg-required"></div></div>'),r=void 0,i=void 0;if(a.hasClass("radio-group")&&(i=a.find("input[type=radio]"),r="input[type=radio]"),a.hasClass("checkbox-group")&&(i=a.find("input[type=checkbox]"),r="input[type=checkbox]"),a.is(":required")&&a.find(r+":checked").length<=0){n.preventDefault(),t=!0,i.addClass("drzValidator-req-border"),a.find(".drzValidator-msg").length||a.append(e);var l=a.attr("data-validator-msg"),o=void 0;o="undefined"!==(void 0===l?"undefined":(0,_typeof3.default)(l))&&!1!==l?a.attr("data-validator-msg"):"You must check at least one.",a.find(".drzValidator-msg").find(".drzValidator-msg-required").html(o).fadeIn(),i.change(function(){a.find(r+":checked").length>0?(t=!1,i.removeClass("drzValidator-req-border"),a.find(".drzValidator-msg").find(".drzValidator-msg-required").fadeOut()):(t=!0,i.addClass("drzValidator-req-border"),a.find(".drzValidator-msg").find(".drzValidator-msg-required").html(o).fadeIn())})}}),a&&!t&&a()}),d.fn.drzFormValidate.destroy=function(a){a.find(r).each(function(){var a=d(this),e=a.attr("type");a.is("select")||"radio"===e||"checkbox"===e?a.off("change"):a.off("keyup")}),a.find(".drzValidator-msg").remove(),a.find(".drzValidator-req-border").removeClass("drzValidator-req-border")}}),this}}(jQuery);