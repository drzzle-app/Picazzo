"use strict";var _typeof2=require("babel-runtime/helpers/typeof"),_typeof3=_interopRequireDefault(_typeof2);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var drzMobile="screen and (min-width:50px) and (max-width:600px)",drzTablet="screen and (min-width:601px) and (max-width:992px)",drzDesktop="screen and (min-width : 993px)",drzWindow=$(window);window.drzzle={viewports:{mobile:"screen and (min-width:50px) and (max-width:600px)",tablet:"screen and (min-width:601px) and (max-width:992px)",desktop:"screen and (min-width : 993px)"},googleMaps:[],window:$(window)},function(e){e.fn.equalHeights=function(){var t=e(this);function i(){t.each(function(){var t=e(this).children();if(t.length>1){var i=0;window.matchMedia(drzzle.viewports.mobile).matches?t.each(function(){var t=e(this);t.hasClass("column")&&t.css("min-height","1px")}):(t.css("min-height","1px"),t.each(function(){var t=e(this);if(t.hasClass("column")){var n=t.outerHeight();n>i&&(i=n)}}),t.each(function(){var t=e(this);t.hasClass("column")&&t.css("min-height",i)}))}})}var n=void 0;return drzzle.window.resize(function(){clearTimeout(n),n=setTimeout(i,250)}),i(),e.fn.equalHeights.destroy=function(t){t.children().each(function(){e(this).css("min-height","")})},this}}(jQuery),function(e){e.fn.topScroll=function(){var t=e(this),i=e(".topScroll-button");return t.scroll(function(){t.scrollTop()>500?i.is(":visible")||i.fadeIn():i.is(":visible")&&i.fadeOut()}),i.click(function(t){return t.preventDefault(),e("html, body").animate({scrollTop:0},"slow"),!1}),this}}(jQuery),function(e){e.fn.drzAnchorScroll=function(){var t=function(t){var i=e(this.hash).selector.split("#")[1],n=e('[data-anchor-scroll="'+i+'"]');"undefined"!==(0,_typeof3.default)(n.offset())&&!1!==n.offset()&&(t.preventDefault(),e("html, body").animate({scrollTop:n.offset().top},500))};return e(this).find("a").click(t),e.fn.drzAnchorScroll.destroy=function(e){e.find("a").off("click",t)},this}}(jQuery),function(e){e.fn.drzSectionVideo=function(){return e(this).each(function(){var t=e(this),i=t.attr("data-videos"),n=void 0,o=!0,r=void 0,a=void 0,s={init:function(e,t){i=(i=e.attr("data-videos")).desktop?i:JSON.parse(i),t&&i[t.startingViewport].src!==i[t.endingViewport].src&&(e.find("video.drzSection-video").remove(),s.drawVideo(e)),t||(e.find("video.drzSection-video").remove(),s.drawVideo(e))},drawVideo:function(t){var n=s.getSource(i),o=e('\n            <video class="drzSection-video" muted loop playsinline autoplay>\n              <source src="'+n.src+'" type="video/'+n.type+'" />\n              <p class="warning">Your browser does not support HTML5 video.</p>\n            </video>');t.prepend(o);var r=t.find(".drzSection-video").get(0);r.addEventListener("loadeddata",function(){var e=0;!function t(){r.paused&&e<31&&(e+=1,r.play().catch(function(){t()}))}()})},getSource:function(e){var t="",i="";return window.matchMedia(drzzle.viewports.mobile).matches&&(t=e.mobile.src,i=e.mobile.type),window.matchMedia(drzzle.viewports.tablet).matches&&(t=e.tablet.src,i=e.tablet.type),window.matchMedia(drzzle.viewports.desktop).matches&&(t=e.desktop.src,i=e.desktop.type),{src:t,type:i}},get:function(){var e="";return window.matchMedia(drzzle.viewports.mobile).matches&&(e="mobile"),window.matchMedia(drzzle.viewports.tablet).matches&&(e="tablet"),window.matchMedia(drzzle.viewports.desktop).matches&&(e="desktop"),{viewport:e}},resize:function(){o&&(r=s.get().viewport,o=!1),clearTimeout(n),n=setTimeout(function(){a=s.get().viewport,s.init(t,{startingViewport:r,endingViewport:a}),o=!0},250)}};i&&(s.init(t),drzzle.window.resize(s.resize)),e.fn.drzSectionVideo.destroy=function(e){e.find("video.drzSection-video").remove(),drzzle.window.off("resize",s.resize)}}),this}}(jQuery),function(e){e.fn.drzSiteSearch=function(){return e(this).each(function(){var t=this,i=e(this),n=i.attr("data-search");n=n.file?n:JSON.parse(n);var o=e.extend(!0,{},{file:"js/site-search.json"},n).file,r=void 0,a=window.__editor?' onclick="event.preventDefault();"':"",s={data:[],filterResults:function(t){var i="",n=e(t.currentTarget).val();""!==n?(n=new RegExp(n,"gi"),e(s.data).each(function(e,t){(t.pagetitle.match(n)||t.metadata.match(n))&&(i+='<a href="'+(window.__editor?"#":t.href)+'" class="searchResult-link"'+a+'>\n                <div class="searchResult"><strong>'+t.pagetitle,i+="</strong><br/>"+t.metadata+"</div></a>",r.removeClass("hide"))}),r.html(i)):(r.addClass("hide"),r.html(""))}};e.getJSON(o).done(function(t){s.data=t,i.next(".searchResults-container").length||e('<div class="searchResults-container"></div>').insertAfter(i),(r=i.next(".searchResults-container")).addClass("hide"),i.keyup(s.filterResults)}).fail(function(){console.log("Error loading site search")}),e.fn.drzSiteSearch.destroy=function(e){e.off("keyup",t.filterResults)}}),this}}(jQuery),function(e){e.fn.drzAccordion=function(){var t=e(this),i="active-accordion",n=".drzAccordion-section-content";function o(){var e=t.find("."+i);e.removeClass(i),e.next(n).slideUp(150)}return t.find(".drzAccordion-section-title").click(function(t){t.preventDefault();var r=e(this);r.parent().parent();r.is("."+i)?o():(o(),r.addClass(i),r.next(n).slideDown(150))}),e.fn.drzAccordion.killEvents=function(e){e.find(".drzAccordion-section-title").off("click")},this}}(jQuery);