"use strict";var _typeof2=require("babel-runtime/helpers/typeof"),_typeof3=_interopRequireDefault(_typeof2);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var drzMobile="screen and (min-width:50px) and (max-width:600px)",drzTablet="screen and (min-width:601px) and (max-width:992px)",drzDesktop="screen and (min-width : 993px)",drzWindow=$(window);window.drzzle={viewports:{mobile:"screen and (min-width:50px) and (max-width:600px)",tablet:"screen and (min-width:601px) and (max-width:992px)",desktop:"screen and (min-width : 993px)"},googleMaps:[],window:$(window),document:$(document)},function(e){e.fn.equalHeights=function(){var t=e(this);function n(){t.each(function(){var t=e(this).children();if(t.length>1){var n=0;window.matchMedia(drzzle.viewports.mobile).matches?t.each(function(){var t=e(this);t.hasClass("column")&&t.css("min-height","1px")}):(t.css("min-height","1px"),t.each(function(){var t=e(this);if(t.hasClass("column")){var i=t.outerHeight();i>n&&(n=i)}}),t.each(function(){var t=e(this);t.hasClass("column")&&t.css("min-height",n)}))}})}var i=void 0;return drzzle.window.resize(function(){clearTimeout(i),i=setTimeout(n,250)}),n(),e.fn.equalHeights.destroy=function(t){t.children().each(function(){e(this).css("min-height","")})},this}}(jQuery),function(e){e.fn.topScroll=function(){var t=e(this),n=e(".topScroll-button");return t.scroll(function(){t.scrollTop()>500?n.is(":visible")||n.fadeIn():n.is(":visible")&&n.fadeOut()}),n.click(function(t){return t.preventDefault(),e("html, body").animate({scrollTop:0},"slow"),!1}),this}}(jQuery),function(e){e.fn.drzAnchorScroll=function(){var t=function(t){var n=e(this.hash).selector.split("#")[1],i=e('[data-anchor-scroll="'+n+'"]');"undefined"!==(0,_typeof3.default)(i.offset())&&!1!==i.offset()&&(t.preventDefault(),e("html, body").animate({scrollTop:i.offset().top},500))};return e(this).find("a").click(t),e.fn.drzAnchorScroll.destroy=function(e){e.find("a").off("click",t)},this}}(jQuery),function(e){e.fn.drzSectionVideo=function(){return e(this).each(function(){var t=e(this),n=t.attr("data-videos"),i=void 0,r=!0,o=void 0,d=void 0,a={init:function(e,t){n=(n=e.attr("data-videos")).desktop?n:JSON.parse(n),t&&n[t.startingViewport].src!==n[t.endingViewport].src&&(e.find("video.drzSection-video").remove(),a.drawVideo(e)),t||(e.find("video.drzSection-video").remove(),a.drawVideo(e))},drawVideo:function(t){var i=a.getSource(n),r=e('\n            <video class="drzSection-video" muted loop playsinline autoplay>\n              <source src="'+i.src+'" type="video/'+i.type+'" />\n              <p class="warning">Your browser does not support HTML5 video.</p>\n            </video>');t.prepend(r);var o=t.find(".drzSection-video").get(0);o.addEventListener("loadeddata",function(){var e=0;!function t(){o.paused&&e<31&&(e+=1,o.play().catch(function(){t()}))}()})},getSource:function(e){var t="",n="";return window.matchMedia(drzzle.viewports.mobile).matches&&(t=e.mobile.src,n=e.mobile.type),window.matchMedia(drzzle.viewports.tablet).matches&&(t=e.tablet.src,n=e.tablet.type),window.matchMedia(drzzle.viewports.desktop).matches&&(t=e.desktop.src,n=e.desktop.type),{src:t,type:n}},get:function(){var e="";return window.matchMedia(drzzle.viewports.mobile).matches&&(e="mobile"),window.matchMedia(drzzle.viewports.tablet).matches&&(e="tablet"),window.matchMedia(drzzle.viewports.desktop).matches&&(e="desktop"),{viewport:e}},resize:function(){r&&(o=a.get().viewport,r=!1),clearTimeout(i),i=setTimeout(function(){d=a.get().viewport,a.init(t,{startingViewport:o,endingViewport:d}),r=!0},250)}};n&&(a.init(t),drzzle.window.resize(a.resize)),e.fn.drzSectionVideo.destroy=function(e){e.find("video.drzSection-video").remove(),drzzle.window.off("resize",a.resize)}}),this}}(jQuery),function(e){e.fn.drzSiteSearch=function(){return e(this).each(function(){var t=this,n=e(this),i=n.attr("data-search");i=i.file?i:JSON.parse(i);var r=e.extend(!0,{},{file:"js/site-search.json"},i).file,o=void 0,d=window.__editor?' onclick="event.preventDefault();"':"",a={data:[],filterResults:function(t){var n="",i=e(t.currentTarget).val();""!==i?(i=new RegExp(i,"gi"),e(a.data).each(function(e,t){(t.pagetitle.match(i)||t.metadata.match(i))&&(n+='<a href="'+(window.__editor?"#":t.href)+'" class="searchResult-link"'+d+'>\n                <div class="searchResult"><strong>'+t.pagetitle,n+="</strong><br/>"+t.metadata+"</div></a>",o.removeClass("hide"))}),o.html(n)):(o.addClass("hide"),o.html(""))}};e.getJSON(r).done(function(t){a.data=t,n.next(".searchResults-container").length||e('<div class="searchResults-container"></div>').insertAfter(n),(o=n.next(".searchResults-container")).addClass("hide"),n.keyup(a.filterResults)}).fail(function(){console.log("Error loading site search")}),e.fn.drzSiteSearch.destroy=function(e){e.off("keyup",t.filterResults)}}),this}}(jQuery),function(e){e.fn.drzAccordion=function(){var t=e(this),n="active-accordion",i=".drzAccordion-section-content";function r(){var e=t.find("."+n);e.removeClass(n),e.next(i).slideUp(150)}return t.find(".drzAccordion-section-title").click(function(t){t.preventDefault();var o=e(this);o.parent().parent();o.is("."+n)?r():(r(),o.addClass(n),o.next(i).slideDown(150))}),e.fn.drzAccordion.killEvents=function(e){e.find(".drzAccordion-section-title").off("click")},this}}(jQuery),function(e){e.fn.drzAudioPlayer=function(){return e(this).each(function(){var t=e(this),n=t.find(".drzAudio-src").get(0),i=t.find(".drzAudio-playBtn"),r=t.find(".drzAudio-pauseBtn"),o=t.find(".drzAudio-volSlider"),d=t.find(".drzAudio-muteBtn"),a=t.find(".drzAudio-progress"),s=t.find(".drzAudio-progressBar"),c=t.find(".drzAudio-currentTime"),l=t.find(".drzAudio-totalTime");c.html("0:00"),t.find(".drzAudio-src").load();var u=function(){var e=parseInt(n.duration/60,10),t=parseInt(e/60,10),i=parseInt(n.duration%60,10);i=i<10?":0"+i:":"+i,t>0?t+=":":t="",l.html(t+e+i)},f=function(){var e=parseInt(n.currentTime/60,10),t=parseInt(n.currentTime%60,10),i=parseInt(e/60,10),r=0;n.currentTime>0&&(r=Math.floor(100/n.duration*n.currentTime)),t=t<10?":0"+t:":"+t,i>0?i+=":":i="",a.css("width",r+"%"),c.html(i+e+t)};function m(e){var t=n.duration,i=(e-s.offset().left)/s.width()*100;i>100&&(i=100),i<0&&(i=0),n.currentTime=t*(i/100),a.css("width",i+"%")}var h=!1,v=e(document);s.on("vmousedown",function(e){h=!0,m(e.pageX)}),v.on("vmouseup",function(e){h&&(h=!1,m(e.pageX))}),v.on("vmousemove",function(e){h&&m(e.pageX)}),n.addEventListener("durationchange",u,!1),n.addEventListener("timeupdate",f,!1),i.click(function(){(n.paused||n.ended)&&n.play()}),r.click(function(){n.pause()}),o.change(function(){n.volume=o.val()}),d.click(function(){n.muted=!n.muted,d.toggleClass("drzAudio-muteOff")}),e.fn.drzAudioPlayer.destroy=function(e){e.find(".drzAudio-playBtn").off("click"),e.find(".drzAudio-pauseBtn").off("click"),e.find(".drzAudio-volSlider").off("change"),e.find(".drzAudio-muteBtn").off("click"),e.find(".drzAudio-progressBar").off("vmousedown");var t=e.find(".drzAudio-src").get(0);t.removeEventListener("durationchange",u,!1),t.removeEventListener("timeupdate",f,!1)}}),this}}(jQuery),function(e){e.fn.drzCarousel=function(){return e(this).each(function(){var t=e(this),n=t.find(".drzCarousel-content"),i=n.find(".drzCarousel-content-item").length,r=t.attr("data-carousel-visible"),o=t.attr("data-carousel-delay"),d=t.attr("data-carousel-controls"),a=0,s=0,c=0,l=void 0,u=void 0,f=void 0,m=void 0,h=void 0;function v(){l=window.matchMedia(window.drzzle.viewports.mobile).matches?1:"undefined"!==(void 0===r?"undefined":(0,_typeof3.default)(r))&&!1!==r?""===r?4:~~r:4,f=t.find(".drzCarousel-image-container").outerWidth(),a=0,t.find(".drzCarousel-content .drzCarousel-content-item").each(function(){var t=(f/l).toFixed(0);e(this).find("img").css("width",t),a+=~~e(this).outerWidth()}),n.css("width",a),s=0,c=0,m=n.outerWidth(),h=t.find(".drzCarousel-content .drzCarousel-content-item").eq(s).outerWidth(),n.css({marginLeft:c})}o="undefined"!==(void 0===o?"undefined":(0,_typeof3.default)(o))&&!1!==o?""===o?2e3:1e3*~~o:2e3,"undefined"!==(void 0===d?"undefined":(0,_typeof3.default)(d))&&!1!==d?""===d&&(d="show"):d="show",d.match(/hide/gi)&&(t.find(".drzCarousel-left-button").hide(),t.find(".drzCarousel-right-button").hide(),t.find(".drzCarousel-image-container").css("width","100%"));var g=void 0,p=void 0,z=150;function w(){clearInterval(u),(p=c+=f)>=m-f?(p=m-f,s=i-l,n.animate({marginLeft:-p},z)):(s=s+=l,n.animate({marginLeft:-p},z)),c=p}function C(){clearInterval(u),(g=c-=f)<=0||g<~~h?(g=0,s=0,n.animate({marginLeft:-g},z)):(s-=l,n.animate({marginLeft:-g},z)),c=g}function S(){clearInterval(u),u=setInterval(function(){(c+=h)>a&&(c=0),s===i-l&&(c=0),n.animate({marginLeft:-c}),(s+=1)>i-l&&(s=0)},o)}t.find(".drzCarousel-left-button").click(C),t.find(".drzCarousel-right-button").click(w),t.on("swipeleft",w),t.on("swiperight",C);var b=void 0,y=function(){clearTimeout(b),b=setTimeout(v,250)};drzzle.window.resize(y),v(),S(),t.mouseover(function(){clearInterval(u)}).mouseout(S),e.fn.drzCarousel.destroy=function(t){clearInterval(u),t.off("swipeleft, swiperight, mouseover, mouseout"),drzzle.window.off("resize",y),t.find(".drzCarousel-left-button").removeAttr("style").off("click"),t.find(".drzCarousel-right-button").removeAttr("style").off("click"),t.find(".drzCarousel-image-container").removeAttr("style"),t.find(".drzCarousel-content").stop().removeAttr("style"),t.find(".drzCarousel-content-item").each(function(){e(this).find("img").removeAttr("style")})}}),this}}(jQuery),function(e){e.fn.drzContentSlider=function(){return e(this).each(function(){var t=e(this).attr("data-slider-delay");"undefined"!==(void 0===t?"undefined":(0,_typeof3.default)(t))&&!1!==t?(""===t&&(t=4e3),t=!t.match(/none/gi)&&1e3*~~t):t=4e3;var n=e(this),i=n.find(".drzContentSlider-item").length,r=void 0;n.append('<div class="drzContentSlider-bullets"></div>'),n.find(".drzContentSlider-item").each(function(){var t=e(this);t.addClass("item-"+t.index()),t.parent().find(".drzContentSlider-bullets").append('<a href="#" class="drzContentSlider-bullet b-'+t.index()+'"></a>')}),n.append('<a class="drzContentSlider-next-btn"></a>'),n.append('<a class="drzContentSlider-back-btn"></a>');var o=n.attr("data-slider-controls");"undefined"!==(void 0===o?"undefined":(0,_typeof3.default)(o))&&!1!==o&&o.match(/hide/gi)&&n.find(".drzContentSlider-next-btn, .drzContentSlider-back-btn").hide(),n.find(".drzContentSlider-item:first-child").show().css("opacity","1"),n.find(".drzContentSlider-bullet:first-child").addClass("active");var d=n.find(".drzContentSlider-bullets"),a=n.attr("data-slider-bullets");"undefined"!==(void 0===a?"undefined":(0,_typeof3.default)(a))&&!1!==a?((a.match(/right/gi)||a.match(/left/gi))&&(a.match(/right/gi)&&d.addClass("drzContentSlider-bullets-right"),a.match(/left/gi)&&d.addClass("drzContentSlider-bullets-left"),d.css("marginTop",-d.outerHeight()/2)),a.match(/bottom/gi)&&d.addClass("drzContentSlider-bullets-bottom")):d.addClass("drzContentSlider-bullets-bottom");var s=void 0,c=n.attr("data-slider-effect");"undefined"!==(void 0===c?"undefined":(0,_typeof3.default)(c))&&!1!==c?""===c&&(c="slide"):c="slide";var l=~~n.outerWidth();c.match(/slide/gi)?(s={marginLeft:-l},n.find(".drzContentSlider-item").each(function(){e(this).css("opacity",1)})):c.match(/fade/gi)&&(s={opacity:0});var u=400,f={opacity:1},m=0,h=void 0;function v(e){h=setTimeout(function(){e.hide()},u)}var g=void 0;function p(e){g=setTimeout(function(){e.show(),c.match(/fade/gi)&&e.animate(f,u)},u)}var z=void 0,w=function(){clearTimeout(z),z=setTimeout(function(){l=~~n.outerWidth(),s={marginLeft:-l}},250)};function C(e){c.match(/slide/gi)&&window.drzzle.window.resize(w);var t=e.find(".drzContentSlider-item.item-"+m);if(t.animate(s,u),v(t),(m+=1)>i-1){m=0;var n=e.find(".drzContentSlider-item.item-"+(i-1));c.match(/slide/gi)&&(e.find(".drzContentSlider-item.item-"+m).show().css("margin-left",l),e.find(".drzContentSlider-item.item-"+m).animate({marginLeft:0},u)),n.animate(s,u),v(n)}var r=e.find(".drzContentSlider-item.item-"+m);c.match(/slide/gi)?r.show().css("margin-left",l).animate({marginLeft:0},u):c.match(/fade/gi)&&p(r),e.find(".drzContentSlider-bullet.b-"+m).addClass("active").siblings().removeClass("active")}function S(e){var t=e.find(".drzContentSlider-item.item-"+m);if(c.match(/slide/gi)?t.animate({marginLeft:l},u):c.match(/fade/gi)&&t.animate(s,u),v(t),(m-=1)<0&&(m=i-1),m>i-1){m=0;var n=e.find(".drzContentSlider-item.item-"+(i-1));c.match(/slide/gi)?(n.css("margin-left",-l),n.animate({marginLeft:0},u)):c.match(/fade/gi)&&n.animate(s,u),v(n)}var r=e.find(".drzContentSlider-item.item-"+m);c.match(/slide/gi)?r.show().css("margin-left",-l).animate({marginLeft:0},u):c.match(/fade/gi)&&p(r),e.find(".drzContentSlider-bullet.b-"+m).addClass("active").siblings().removeClass("active")}function b(n){clearInterval(r),e.isNumeric(t)&&(r=setInterval(function(){C(n)},t))}n.find(".drzContentSlider-next-btn").click(function(){C(n)}),n.find(".drzContentSlider-back-btn").click(function(){S(n)}),n.on("swipeleft",function(){C(n)}),n.on("swiperight",function(){S(n)}),n.find(".drzContentSlider-bullet").click(function(t){t.preventDefault();var i=e(this),r=i.index();i.addClass("active").siblings().removeClass("active"),c.match(/slide/gi)?n.find(".drzContentSlider-item.item-"+r).show().css("margin-left",0).siblings(".drzContentSlider-item").hide():c.match(/fade/gi)&&n.find(".drzContentSlider-item.item-"+r).show().css("opacity",1).siblings(".drzContentSlider-item").hide().css("opacity",0),m=r,b(n)}),n.mouseover(function(){clearInterval(r)}),n.mouseleave(function(){b(n)}),b(n),e.fn.drzContentSlider.destroy=function(t){t.find(".drzContentSlider-bullets").remove(),t.find(".drzContentSlider-next-btn").remove(),t.find(".drzContentSlider-back-btn").remove(),t.off("swipeleft"),t.off("swiperight"),t.off("mouseover"),t.off("mouseleave"),t.find(".drzContentSlider-item").each(function(){e(this).stop().removeAttr("style").removeClass(function(e,t){var n=t.match(/(^|\s)item-\S+/g);return n=n?n.join(" "):""})}),window.drzzle.window.off("resize",w),clearInterval(r),clearTimeout(h),clearTimeout(g)}}),this}}(jQuery),function(e){e.fn.drzCountDown=function(){return e(this).each(function(){var t=e(this),n=t.find(".drzCountdown-endedMsg"),i=t.find(".drzCountdown-timerContainer"),r=void 0,o=void 0,d=void 0,a={tempDate:function(){var e=new Date((new Date).getTime()+864e5);return e},orderSets:function(e,t){return new Date(e.end).getTime()-new Date(t.end).getTime()},getBuffer:function(e){var t=!1;if(e.buffer){var n=e.buffer.split(" ")[1],i=e.buffer.split(" ")[0];i=parseInt(i,10),n.match(/second/gi)?t=1e3*i:n.match(/minute/gi)?t=60*i*1e3:n.match(/hour/gi)&&(t=3600*i*1e3),t=new Date(e.end).getTime()+t,t=new Date(t)}return t},getRemainingTime:function(e){var t=new Date,n=Date.parse(e)-Date.parse(t),i=Math.floor(n/1e3%60);i<0&&(i=0);var r=Math.floor(n/1e3/60%60);r<0&&(r=0);var o=Math.floor(n/36e5%24);o<0&&(o=0);var d=Math.floor(n/864e5);return d<0&&(d=0),{total:n,days:d,hours:o,minutes:r,seconds:i}},checkStart:function(e,r,o){var d=!1;return a.getRemainingTime(e.end).total<=0?(d=!0,a.countDownEnded(t,r,o)):(n.hide(),i.show()),d},updateTime:function(e,n,i,o){var d=e.find(".drzCountdown-days"),s=e.find(".drzCountdown-hours"),c=e.find(".drzCountdown-minutes"),l=e.find(".drzCountdown-seconds"),u=a.getRemainingTime(n.end);d.html(u.days),s.html(("0"+u.hours).slice(-2)),c.html(("0"+u.minutes).slice(-2)),l.html(("0"+u.seconds).slice(-2)),u.total<=0&&(clearInterval(r),a.countDownEnded(t,i,o))},sameTime:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()&&e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()&&e.getSeconds()===t.getSeconds()},getNextOccurance:function(e){var t=new Date(e.end),n=t.getSeconds(),i=t.getMinutes(),r=t.getHours(),o=new Date,d=new Date,s=void 0;if(e.recurring.match(/week/gi)){var c=e.end.toString();(c=c.split(" ")[0]).match(/Sun/gi)?s=0:c.match(/Mon/gi)?s=1:c.match(/Tue/gi)?s=2:c.match(/Wed/gi)?s=3:c.match(/Thu/gi)?s=4:c.match(/Fri/gi)?s=5:c.match(/Sat/gi)&&(s=6);var l=s+(7-o.getDay());d.setDate(o.getDate()+l%7),d.setSeconds(n),d.setMinutes(i),d.setHours(r),(d<new Date||a.sameTime(d,new Date))&&d.setUTCDate(d.getUTCDate()+7)}return d},recurring:function(e){for(var r=[],o=0;o<=e.length-1;o++){var d=e[o];d.recurring&&(d.end=a.getNextOccurance(d),r.push(d))}r.length>0&&(n.hide(),i.show(),r=r.sort(a.orderSets),a.initCountDown(t,r[0],r,0))},countDownEnded:function(e,d,s){clearInterval(o),clearInterval(r);var c=d[s];i.hide(),n.show(),n.html('<h4 class="drz-h4 drzCountdown-endMessage">\n              '+(c.endMessage||"")+"\n            </h4>");var l=s+1,u=d[l],f=a.getBuffer(c);"undefined"!==(void 0===u?"undefined":(0,_typeof3.default)(u))&&!1!==u?f?o=setInterval(function(){a.getRemainingTime(f).total<=0&&(n.hide(),i.show(),a.initCountDown(t,u,d,l),clearInterval(o))},500):(n.hide(),i.show(),a.initCountDown(t,u,d,l)):c.buffer?o=setInterval(function(){a.getRemainingTime(f).total<=0&&(n.hide(),i.show(),a.recurring(d),clearInterval(o))},100):a.recurring(d)},initCountDown:function(e,t,n,i){a.updateTime(e,t,n,i),r=setInterval(function(){a.updateTime(e,t,n,i)},1e3)}};function s(){var n=t.attr("data-countdown"),i=[{end:a.tempDate(),buffer:!1,endMessage:"Countdown Ended!",recurring:!1}];if("undefined"!==(void 0===n?"undefined":(0,_typeof3.default)(n))&&!1!==n)if(n=JSON.parse(n),d=n.sets.length,n.sets=n.sets.sort(a.orderSets),d>0)for(var r=0;r<=d-1;r++){var o=e.extend(!0,{},i[0],n.sets[r]);if(n.sets[r]=o,!a.checkStart(o,n.sets,r))return void a.initCountDown(t,o,n.sets,r)}else a.initCountDown(t,i[0],i,0);else a.initCountDown(t,i[0],i,0)}s(),e.fn.drzCountDown.reset=function(){clearInterval(r),clearInterval(o),s()}}),this}}(jQuery);